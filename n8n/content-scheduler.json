{
  "name": "Go2Thailand Content Calendar Generator",
  "description": "Generates a 30-day content calendar with optimal posting times",
  "nodes": [
    {
      "id": "monthly-scheduler",
      "type": "n8n-nodes-base.scheduleTrigger",
      "name": "Monthly Calendar Generation",
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "months",
              "monthsInterval": 1,
              "triggerAtDay": 25
            }
          ]
        }
      },
      "position": [240, 300]
    },
    {
      "id": "generate-calendar",
      "type": "n8n-nodes-base.code",
      "name": "Generate 30-Day Calendar",
      "parameters": {
        "jsCode": "// Content rotation schedule\nconst contentRotation = [\n  { day: 'Monday', type: 'food', time: '12:00', platform: 'both' },\n  { day: 'Tuesday', type: 'attraction', time: '18:00', platform: 'both' },\n  { day: 'Wednesday', type: 'city', time: '10:00', platform: 'both' },\n  { day: 'Thursday', type: 'beach', time: '16:00', platform: 'instagram' },\n  { day: 'Thursday', type: 'culture', time: '19:00', platform: 'facebook' },\n  { day: 'Friday', type: 'top10', time: '14:00', platform: 'both' },\n  { day: 'Saturday', type: 'temple', time: '09:00', platform: 'both' },\n  { day: 'Sunday', type: 'culture', time: '11:00', platform: 'both' }\n];\n\n// Optimal posting times for Thailand audience\nconst optimalTimes = {\n  facebook: {\n    weekday: ['12:00', '19:00', '21:00'],\n    weekend: ['10:00', '14:00', '20:00']\n  },\n  instagram: {\n    weekday: ['07:00', '12:00', '18:00'],\n    weekend: ['11:00', '14:00', '17:00']\n  }\n};\n\n// Generate next 30 days schedule\nconst calendar = [];\nconst startDate = new Date();\nstartDate.setDate(startDate.getDate() + 5); // Start 5 days from now\n\nfor (let i = 0; i < 30; i++) {\n  const currentDate = new Date(startDate);\n  currentDate.setDate(startDate.getDate() + i);\n  \n  const dayName = currentDate.toLocaleDateString('en-US', { weekday: 'long' });\n  const daySchedule = contentRotation.filter(item => item.day === dayName);\n  \n  daySchedule.forEach(schedule => {\n    calendar.push({\n      date: currentDate.toISOString().split('T')[0],\n      dayOfWeek: dayName,\n      contentType: schedule.type,\n      scheduledTime: schedule.time,\n      platform: schedule.platform,\n      status: 'scheduled',\n      month: currentDate.toLocaleDateString('en-US', { month: 'long' }),\n      week: Math.ceil((currentDate.getDate() + startDate.getDay()) / 7)\n    });\n  });\n}\n\n// Add special dates/events\nconst specialDates = [\n  { date: '2024-04-13', type: 'culture', content: 'songkran', note: 'Songkran Festival' },\n  { date: '2024-11-01', type: 'culture', content: 'loy-krathong', note: 'Loy Krathong Festival' }\n];\n\nreturn calendar;"
      },
      "position": [460, 300]
    },
    {
      "id": "save-calendar",
      "type": "n8n-nodes-base.googleSheets",
      "name": "Save to Google Sheets",
      "parameters": {
        "authentication": "oAuth2",
        "operation": "appendOrUpdate",
        "sheetId": "{{$credentials.contentCalendarSheetId}}",
        "range": "ContentCalendar!A:H",
        "options": {
          "valueInputMode": "USER_ENTERED"
        },
        "dataMode": "autoMapInputData",
        "updateKey": "date"
      },
      "position": [680, 300]
    },
    {
      "id": "notify-team",
      "type": "n8n-nodes-base.slack",
      "name": "Notify Team",
      "parameters": {
        "authentication": "accessToken",
        "channel": "#social-media",
        "text": "ðŸ“… New content calendar generated!\n\n*Next 30 days scheduled*\nTotal posts: {{$json.length}}\n\nView calendar: {{$node['save-calendar'].json.spreadsheetUrl}}",
        "otherOptions": {}
      },
      "position": [900, 300]
    }
  ],
  "connections": {
    "monthly-scheduler": {
      "main": [[{"node": "generate-calendar", "type": "main", "index": 0}]]
    },
    "generate-calendar": {
      "main": [[{"node": "save-calendar", "type": "main", "index": 0}]]
    },
    "save-calendar": {
      "main": [[{"node": "notify-team", "type": "main", "index": 0}]]
    }
  }
}